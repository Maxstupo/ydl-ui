version: '-0.0.0.{build}'
image: Visual Studio 2019

environment:
  TITLE: 'YDL-UI'
  PROJECT_NAME: 'YDL-UI'
  NON_MASTER_VERSION: '2.9.0'

skip_commits:
  files:
    - README.md
branches:
  only:
    - 'dev/v3'

configuration:
  - Debug
  - Release

assembly_info:
  patch: true
  file: '**\AssemblyInfo.*'
  assembly_version: '$(APP_VERSION)'
  assembly_file_version: '$(APP_VERSION)'
  assembly_informational_version: '$(APP_VERSION_INFORMATIONAL)'

before_build:
  - nuget restore

install:
  - ps: ./update-version-v2.ps1

build:
  project: '$(PROJECT_NAME).sln'
  verbosity: minimal

test: off
deploy: off